# 156. Implementing Login
link: https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648761#overview

[Theory]

- на странице логина нам нужно ввести имя юзера, которое мы вычисляли ранее (первые буквы имени и фамилии маленькие) и пин код четырехзначный
- валидация и вход производятся либо при клике по кнопке (стрелочка) либо по нажатию Enter после ввода пина
- после этого мы попадаем на экран конкретного юзе именно с его историей баланса 
- мы можем поменять юзера прямо из интерфейса и тогда балансы меняются на данные нового юзера




[Steps]
1) создаем eventHandler для кнопки логина. Если мы добавим в eventHandler console.log('login'); то при нажатии на кнопку мы будем видеть сообщение login и сразу перезагрузку страницы. Это происходит по тому что в JS если Button находится внутри form, то она приводит к перезагрузке страницы.

Мы хотим изменить это поведение, для этого добавляем параметр в фукнцию addEventListener - event - можно просто e. У е вызываем метод preventDefault() - метод предотвращает сабмит формы.

Нажатие кнопки ентер в обоих инпутах равнозначно клику по кнопке входа.

2) для начала нам нужно найти и проверить что существует юзер по логину которого пытаются зайти - реализуем это при помощи метода find - 

 2.1) нам нужно сохранить эти данные в перемерную, но определить ее вне скоупа функции, чтобы мы могли ее оперировать далее. К примеру если мы делаем трансфер денег, то мы должны понимать от какого аккаунта это происходит. (в уроке 149 мы создавали username, с которым сейчас будет происходить сравнение)

3) далее нам нужно проверить что введен корретный пин

 3.1.) если мы введем не верное имя пользователя и пустой пин, то получим ошибку в кончоли от пина и undefines от метода find. Поэтому для начала в условии пина проверим, что введенный аккаунт вообще существует, то есть если он true то переходим ко второй части

 currentAccount && currentAccount.pin === Number(inputLoginPin.value)

 можно написать еще проще 
 currentAccount?.pin === Number(inputLoginPin.value)

 3.2) есди все ок, то мы должны показать 
  // Display UI and Welcome message - приветтсвенное сообщение в верхнем левом углу
  // Display movements - отображаем все балансы
  // Display balance
  // Display summary
3.3) добавим функционал очищения инпутов после входа и убираем фокус с инпута после этого

4) в функции calcDisplaySummary interest проставлен ручным способом - нужно это изменить

17:45